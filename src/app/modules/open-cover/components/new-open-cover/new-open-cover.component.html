<form [formGroup]="newQuoteForm">
  <div class="maan-card customPadding">
    <div class="row">
      <div class="col-12">
        <div class="middle-line">
          Open Cover Information
        </div>
      </div>
      <div class="col-12 col-md-4 col-lg-4">
        <div class="input-control-container">
          <label class="input-form-label">Business Type<span class="text-required">*</span></label>
          <ng-select placeholder="Select" class="input-form-select" formControlName="businessType"
            [items]="bussinesTypeList" bindValue="Code" bindLabel="CodeDescription">
          </ng-select>
          <div class="input-form-error"
            *ngIf="(newQuoteF.businessType.errors && submitted) || (!newQuoteF.businessType.valid && newQuoteF.businessType.touched)">
            <div *ngIf="newQuoteF.businessType.errors?.required" class="error-text">
              This field is required
            </div>
          </div>
        </div>
      </div>
      <div class="col-12 col-md-4 col-lg-4">
        <div class="input-control-container">
          <label class="input-form-label">Open Cover Type<span class="text-required">*</span></label>
          <ng-select placeholder="Select" class="input-form-select" formControlName="openCoverType"
            [items]="openCoverTypeList" bindValue="Code" bindLabel="CodeDescription">
          </ng-select>
          <div class="input-form-error"
            *ngIf="(newQuoteF.openCoverType.errors && submitted) || (!newQuoteF.openCoverType.valid && newQuoteF.openCoverType.touched)">
            <div *ngIf="newQuoteF.openCoverType.errors?.required" class="error-text">
              This field is required
            </div>
          </div>
        </div>
      </div>
      <div class="col-12 col-md-4 col-lg-4">
        <div class="input-control-container">
          <label class="input-form-label">Select Broker<span class="text-required">*</span></label>
          <ng-select placeholder="Select" class="input-form-select" formControlName="selectBroker" [items]="brokerList"
            bindValue="Code" bindLabel="CodeDescription" (change)="onChangeBroker()">
          </ng-select>
          <div class="input-form-error"
            *ngIf="(newQuoteF.selectBroker.errors && submitted) || (!newQuoteF.selectBroker.valid && newQuoteF.selectBroker.touched)">
            <div *ngIf="newQuoteF.selectBroker.errors?.required" class="error-text">
              This field is required
            </div>
          </div>
        </div>
      </div>
      <div class="col-12 col-md-4 col-lg-4">
        <div class="input-control-container">
          <label class="input-form-label">Sales Executive<span class="text-required">*</span></label>
          <ng-select placeholder="Select" class="input-form-select" formControlName="salesExective"
            [items]="excutiveList" bindValue="Code" bindLabel="CodeDescription">
          </ng-select>
          <div class="input-form-error"
            *ngIf="(newQuoteF.salesExective.errors && submitted) || (!newQuoteF.salesExective.valid && newQuoteF.salesExective.touched)">
            <div *ngIf="newQuoteF.salesExective.errors?.required" class="error-text">
              This field is required
            </div>
          </div>
        </div>
      </div>
      <div class="col-12 col-md-4 col-lg-4">
        <div class="customer-search-container">
          <div class="input-control-container">
            <label class="input-form-label">Customer<span class="text-required">*</span></label>
            <div class="currency-flex">
              <div class="opencover-drop input-form-box">
                <input type="text" class="input-form-control2 without-icon" formControlName="customer"
                  placeholder="Search & Select Customer">
              </div>
              <div class="opencover-dollar">
                <button class="btn btn-secondary" style="cursor: poiinter;" [disabled]="checkSearchDisable()"
                  (click)="getCustomerAltList(myModal2)" style="border-radius: 3px;padding: 5px;margin-top: 6px;"><i
                    class="fas fa-search"></i></button>
              </div>
            </div>
            <div class="input-form-error"
              *ngIf="(newQuoteF.customer.errors && submitted) || (!newQuoteF.customer.valid && newQuoteF.customer.touched)">
              <div *ngIf="newQuoteF.customer.errors?.required" class="error-text">
                This field is required
              </div>
            </div>
            <!-- <div class="customer-search-box">
            <ng-container *ngIf="tableData">
              <app-material-table
              [cols]="columnHeader"
              [data]="tableData"
              [filterValue]="newQuoteF.customer.value"
              (onSelectCustomer)="onSelectCustomer($event)"
              [btnConfig]="btnConfig" >
              </app-material-table>
            </ng-container>
          </div> -->
          </div>
        </div>
      </div>
      <div class="col-12 col-md-4 col-lg-4">
        <div class="input-control-container">
          <label class="input-form-label">Debit To<span class="text-required">*</span></label>
          <div class="input-form-radio-box">
            <div class="radio-toolbar">
              <input id="debitTo-borker" type="radio" name="debitTo" value="Broker" formControlName="debitTo">
              <label for="debitTo-borker">Broker</label>
              <input type="radio" id="debitTo-Cust" name="debitTo" value="Customer" formControlName="debitTo">
              <label for="debitTo-Cust">Customer</label>
            </div>
          </div>
          <div class="input-form-error"
            *ngIf="(newQuoteF.debitTo.errors && submitted) || (!newQuoteF.debitTo.valid && newQuoteF.debitTo.touched)">
            <div *ngIf="newQuoteF.debitTo.errors?.required" class="error-text">
              This field is required
            </div>
          </div>
        </div>
      </div>
      <div class="col-12 col-md-4 col-lg-4">
        <div class="input-control-container">
          <label class="input-form-label">Open Cover Start Date<span class="text-required">*</span></label>
          <div class="input-form-box">
            <input type="text" ngbDatepicker #d="ngbDatepicker" class="input-form-control without-icon"
              formControlName="openCoverStartDate" (click)="d.toggle()" readonly
              (dateSelect)="onChangeStartDate($event)">
          </div>
          <div class="input-form-error"
            *ngIf="(newQuoteF.openCoverStartDate.errors && submitted) || (!newQuoteF.openCoverStartDate.valid && newQuoteF.openCoverStartDate.touched)">
            <div *ngIf="newQuoteF.openCoverStartDate.errors?.required" class="error-text">
              This field is required
            </div>
          </div>
        </div>
      </div>
      <div class="col-12 col-md-4 col-lg-4">
        <div class="input-control-container">
          <label class="input-form-label">Open Cover End Date<span class="text-required">*</span></label>
          <div class="input-form-box">
            <input type="text" ngbDatepicker #d1="ngbDatepicker" class="input-form-control without-icon"
              formControlName="openCoverEndDate" (click)="d1.toggle()" readonly>
          </div>
          <div class="input-form-error"
            *ngIf="(newQuoteF.openCoverEndDate.errors && submitted) || (!newQuoteF.openCoverEndDate.valid && newQuoteF.openCoverEndDate.touched)">
            <div *ngIf="newQuoteF.openCoverEndDate.errors?.required" class="error-text">
              This field is required
            </div>
          </div>
        </div>
      </div>
      <div class="col-12">
        <div class="middle-line">
          Extra Information
        </div>
      </div>
      <div class="col-12 col-md-4 col-lg-4">
        <div class="input-control-container">
          <label class="input-form-label">Annual Estimated Turnover<span class="text-required">*</span></label>
          <div class="input-form-box">
            <input type="text" digitOnly [value]="newQuoteF.annualEstimate.value | commaseparator"
              class="input-form-control without-icon" formControlName="annualEstimate">
          </div>
          <div class="input-form-error"
            *ngIf="(newQuoteF.annualEstimate.errors && submitted) || (!newQuoteF.annualEstimate.valid && newQuoteF.annualEstimate.touched)">
            <div *ngIf="newQuoteF.annualEstimate.errors?.required" class="error-text">
              This field is required
            </div>
          </div>
        </div>
      </div>
      <div class="col-12 col-md-4 col-lg-4">
        <div class="input-control-container">
          <label class="input-form-label">Utilized Amount</label>
          <div class="input-form-box">
            <input type="text" digitOnly [value]="newQuoteF.utilizedAmount.value | commaseparator"
              class="input-form-control without-icon" formControlName="utilizedAmount">
          </div>
          <div class="input-form-error"
            *ngIf="(newQuoteF.utilizedAmount.errors && submitted) || (!newQuoteF.utilizedAmount.valid && newQuoteF.utilizedAmount.touched)">
            <div *ngIf="newQuoteF.utilizedAmount.errors?.required" class="error-text">
              This field is required
            </div>
            <div *ngIf="newQuoteF.utilizedAmount.errors?.message" class="error-text">
              {{newQuoteF.utilizedAmount.errors?.message}}
            </div>
          </div>
        </div>
      </div>
      <div class="col-12 col-md-4 col-lg-4">

        <div class="input-control-container">
          <label class="input-form-label">Currency<span class="text-required">*</span></label>
          <div class="currency-flex">
            <div class="currrency-drop">
              <ng-select placeholder="Select" class="input-form-select" formControlName="currency"
                [items]="currencyList" bindValue="Code" bindLabel="CodeDescription">
              </ng-select>
            </div>
            <div class="currrency-dollar">
              <div class="input-control-container">
                <div class="input-form-box">
                  <input type="text" class="input-form-control4 without-icon"
                    [value]="newQuoteF.currency.value | currency: currencyList">
                </div>
              </div>
            </div>

          </div>
          <div class="input-form-error"
            *ngIf="(newQuoteF.currency.errors && submitted) || (!newQuoteF.currency.valid && newQuoteF.currency.touched)">
            <div *ngIf="newQuoteF.currency.errors?.required" class="error-text">
              This field is required
            </div>
          </div>
        </div>
      </div>
      <div class="col-12 col-md-4 col-lg-4">
        <div class="input-control-container">
          <label class="input-form-label">Shared Percentage<span class="text-required">*</span></label>
          <div class="input-form-box">
            <input type="text" [attr.disabled]="true" class="input-form-control without-icon"
              formControlName="sharedPercentage">
          </div>
          <div class="input-form-error"
            *ngIf="(newQuoteF.sharedPercentage.errors && submitted) || (!newQuoteF.sharedPercentage.valid && newQuoteF.sharedPercentage.touched)">
            <div *ngIf="newQuoteF.sharedPercentage.errors?.required" class="error-text">
              This field is required
            </div>
          </div>
        </div>
      </div>
      <div class="col-12 col-md-4 col-lg-4">
        <div class="input-control-container">
          <label class="input-form-label">No.of Co-Insurance Company</label>
          <div class="input-form-box">
            <input type="text" [attr.disabled]="true" class="input-form-control without-icon"
              formControlName="noOfCoInsuComp">
          </div>
          <div class="input-form-error"
            *ngIf="(newQuoteF.noOfCoInsuComp.errors && submitted) || (!newQuoteF.noOfCoInsuComp.valid && newQuoteF.noOfCoInsuComp.touched)">
            <div *ngIf="newQuoteF.noOfCoInsuComp.errors?.required" class="error-text">
              This field is required
            </div>
          </div>
        </div>
      </div>
      <div class="col-12 col-md-4 col-lg-4">
        <div class="input-control-container">
          <label class="input-form-label">Free Text Allowed<span class="text-required">*</span></label>
          <div class="input-form-radio-box">
            <div class="radio-toolbar">
              <input id="freetext-yes" type="radio" name="freeTextAllowed" value="Y" formControlName="freeTextAllowed">
              <label for="freetext-yes">Yes</label>
              <input type="radio" id="freetext-no" name="freeTextAllowed" value="N" formControlName="freeTextAllowed">
              <label for="freetext-no">No</label>
            </div>
          </div>
          <div class="input-form-error"
            *ngIf="(newQuoteF.freeTextAllowed.errors && submitted) || (!newQuoteF.freeTextAllowed.valid && newQuoteF.freeTextAllowed.touched)">
            <div *ngIf="newQuoteF.freeTextAllowed.errors?.required" class="error-text">
              This field is required
            </div>
          </div>
        </div>
      </div>
      <div class="col-12 col-md-4 col-lg-4">
        <div class="input-control-container">
          <label class="input-form-label">Cross Voyage<span class="text-required">*</span></label>
          <div class="input-form-radio-box">
            <div class="radio-toolbar">
              <input id="crossvoyage-yes" type="radio" name="crossVoyage" value="Y" formControlName="crossVoyage"
                (change)="onCheckCrossVoyage()">
              <label for="crossvoyage-yes">Yes</label>
              <input type="radio" id="crossvoyage-no" name="crossVoyage" value="N" formControlName="crossVoyage"
                (change)="onCheckCrossVoyage()">
              <label for="crossvoyage-no">No</label>
            </div>
          </div>
          <div class="input-form-error"
            *ngIf="(newQuoteF.crossVoyage.errors && submitted) || (!newQuoteF.crossVoyage.valid && newQuoteF.crossVoyage.touched)">
            <div *ngIf="newQuoteF.crossVoyage.errors?.required" class="error-text">
              This field is required
            </div>
          </div>
        </div>
      </div>
      <div class="col-12 col-md-4 col-lg-4" *ngIf="newQuoteF.crossVoyage.value =='Y'">
        <div class="input-control-container">
          <label class="input-form-label">Cross Voyage(%)<span class="text-required">*</span></label>
          <div class="input-form-box">
            <input type="text" [attr.disabled]="newQuoteF.crossVoyage.value == 'Y'?null:true"
              class="input-form-control without-icon" formControlName="crossVoyagePrecnt">
          </div>
          <div class="input-form-error"
            *ngIf="(newQuoteF.crossVoyagePrecnt.errors && submitted) || (!newQuoteF.crossVoyagePrecnt.valid && newQuoteF.crossVoyagePrecnt.touched)">
            <div *ngIf="newQuoteF.crossVoyagePrecnt.errors?.required" class="error-text">
              This field is required
            </div>
          </div>
        </div>
      </div>
      <div class="col-12 col-md-4 col-lg-4">
        <div class="input-control-container">
          <label class="input-form-label">Existing Core Application Policy No</label>
          <div class="currency-flex">
            <div class="currrency-drop">
              <div class="input-form-box">
                <input type="text" class="input-form-control without-icon" formControlName="existingCore">
              </div>
            </div>
            <div class="currrency-dollar">
              <div class="input-control-container">
                <div class="input-form-box">
                  <input type="text" class="input-form-control4 without-icon"
                    [value]="editData?.RefNo? editData?.RefNo:''">
                </div>
              </div>
            </div>
          </div>
          <div class="input-form-error"
            *ngIf="(newQuoteF.existingCore.errors && submitted) || (!newQuoteF.existingCore.valid && newQuoteF.existingCore.touched)">
            <div *ngIf="newQuoteF.existingCore.errors?.required" class="error-text">
              This field is required
            </div>
          </div>
        </div>
      </div>
      <div class="col-12 col-md-4 col-lg-4">
        <div class="input-control-container">
          <label class="input-form-label">Certificate No Start From<span class="text-required">*</span></label>
          <div class="input-form-box">
            <input type="text" digitOnly class="input-form-control without-icon" formControlName="certificateStartForm">
          </div>
          <div class="input-form-error"
            *ngIf="(newQuoteF.certificateStartForm.errors && submitted) || (!newQuoteF.certificateStartForm.valid && newQuoteF.certificateStartForm.touched)">
            <div *ngIf="newQuoteF.certificateStartForm.errors?.required" class="error-text">
              This field is required
            </div>
          </div>
        </div>
      </div>
      <div class="col-12 col-md-4 col-lg-4">
        <div class="input-control-container">
          <label class="input-form-label">Commission(%)<span class="text-required">*</span></label>
          <div class="input-form-box">
            <input type="text" class="input-form-control without-icon"
              formControlName="commissiomPrecnt">
          </div>
          <div class="input-form-error"
            *ngIf="(newQuoteF.commissiomPrecnt.errors && submitted) || (!newQuoteF.commissiomPrecnt.valid && newQuoteF.commissiomPrecnt.touched)">
            <div *ngIf="newQuoteF.commissiomPrecnt.errors?.required" class="error-text">
              This field is required
            </div>
          </div>
        </div>
      </div>
      <div class="col-12 col-md-4 col-lg-4">
        <div class="input-control-container">
          <label class="input-form-label">Minimum Premium<span class="text-required">*</span></label>
          <div class="input-form-box">
            <input type="text" digitOnly class="input-form-control without-icon"
              [value]="newQuoteF.minimumPremium.value | commaseparator" formControlName="minimumPremium">
          </div>
          <div class="input-form-error"
            *ngIf="(newQuoteF.commissiomPrecnt.errors && submitted) || (!newQuoteF.commissiomPrecnt.valid && newQuoteF.commissiomPrecnt.touched)">
            <div *ngIf="newQuoteF.commissiomPrecnt.errors?.required" class="error-text">
              This field is required
            </div>
          </div>
        </div>
      </div>
      <!-- <div class="col-12 col-md-4 col-lg-4">
        <div class="input-control-container">
          <label class="input-form-label">Endorsement fee<span class="text-required">*</span></label>
          <div class="input-form-box">
            <input type="text" digitOnly class="input-form-control without-icon" formControlName="endorsementFee">
          </div>
          <div class="input-form-error" *ngIf="(newQuoteF.endorsementFee.errors && submitted) || (!newQuoteF.endorsementFee.valid && newQuoteF.endorsementFee.touched)">
            <div *ngIf="newQuoteF.endorsementFee.errors?.required" class="error-text">
              This field is required
            </div>
          </div>
        </div>
      </div> -->
      <!-- <div class="col-12 col-md-4 col-lg-4">
        <div class="input-control-container">
          <label class="input-form-label">Issuance Fee(%)<span class="text-required">*</span></label>
          <div class="input-form-box">
            <input type="text" mask="percent" class="input-form-control without-icon" formControlName="issuanceFeePrecnt">
          </div>
          <div class="input-form-error" *ngIf="(newQuoteF.issuanceFeePrecnt.errors && submitted) || (!newQuoteF.issuanceFeePrecnt.valid && newQuoteF.issuanceFeePrecnt.touched)">
            <div *ngIf="newQuoteF.issuanceFeePrecnt.errors?.required" class="error-text">
              This field is required
            </div>
          </div>
        </div>
      </div> -->
      <!-- <div class="col-12 col-md-4 col-lg-4">
        <div class="input-control-container">
          <label class="input-form-label">Minimum Premium Issuance Fee<span class="text-required">*</span></label>
          <div class="input-form-box">
            <input type="text" digitOnly class="input-form-control without-icon" formControlName="minimumPremIssuanceFee">
          </div>
          <div class="input-form-error" *ngIf="(newQuoteF.minimumPremIssuanceFee.errors && submitted) || (!newQuoteF.minimumPremIssuanceFee.valid && newQuoteF.minimumPremIssuanceFee.touched)">
            <div *ngIf="newQuoteF.minimumPremIssuanceFee.errors?.required" class="error-text">
              This field is required
            </div>
          </div>
        </div>
      </div> -->
      <div class="col-12 col-md-4 col-lg-4">
        <div class="input-control-container">
          <label class="input-form-label">No of Back Days<span class="text-required">*</span></label>
          <div class="input-form-box">
            <input type="text" digitOnly class="input-form-control without-icon" formControlName="noOfBackDays">
          </div>
          <div class="input-form-error"
            *ngIf="(newQuoteF.noOfBackDays.errors && submitted) || (!newQuoteF.noOfBackDays.valid && newQuoteF.noOfBackDays.touched)">
            <div *ngIf="newQuoteF.noOfBackDays.errors?.required" class="error-text">
              This field is required
            </div>
          </div>
        </div>
      </div>
      <div class="col-12 col-md-4 col-lg-4">
        <div class="input-control-container">
          <label class="input-form-label">Default Clauses<span class="text-required">*</span></label>
          <div class="input-form-radio-box">
            <div class="radio-toolbar">
              <input id="defaultclause-yes" type="radio" name="defaultClauses" value="Y"
                formControlName="defaultClauses">
              <label for="defaultclause-yes">Yes</label>
              <input type="radio" id="defaultclause-no" name="defaultClauses" value="N"
                formControlName="defaultClauses">
              <label for="defaultclause-no">No</label>
            </div>
          </div>
          <div class="input-form-error"
            *ngIf="(newQuoteF.defaultClauses.errors && submitted) || (!newQuoteF.defaultClauses.valid && newQuoteF.defaultClauses.touched)">
            <div *ngIf="newQuoteF.defaultClauses.errors?.required" class="error-text">
              This field is required
            </div>
          </div>
        </div>
      </div>
      <div class="col-12 col-md-4 col-lg-4">
        <div class="input-control-container">
          <label class="input-form-label">Declaration Type<span class="text-required">*</span></label>
          <ng-select placeholder="Select" class="input-form-select" formControlName="declarationType"
            [items]="DeclarationTypeList" bindValue="Code" bindLabel="CodeDescription">
          </ng-select>
          <div class="input-form-error"
            *ngIf="(newQuoteF.declarationType.errors && submitted) || (!newQuoteF.declarationType.valid && newQuoteF.declarationType.touched)">
            <div *ngIf="newQuoteF.declarationType.errors?.required" class="error-text">
              This field is required
            </div>
          </div>
        </div>
      </div>
      <!-- <div class="col-12 col-md-4 col-lg-4">
        <div class="input-control-container">
          <label class="input-form-label">Hauliers Type<span class="text-required">*</span></label>
          <div class="input-form-radio-box">
            <div class="radio-toolbar">
              <input id="hauliers-annual" type="radio" name="hauilerType" value="A" formControlName="hauilerType" >
              <label for="hauliers-annual" [ngClass]="newQuoteF.openCoverType.value =='13' || newQuoteF.openCoverType.value =='14'?'enabled':'disabled'">Annual Type</label>
              <input type="radio" id="hauliers-vehicle" name="hauilerType" value="V" formControlName="hauilerType" >
              <label for="hauliers-vehicle" [ngClass]="newQuoteF.openCoverType.value =='13' || newQuoteF.openCoverType.value =='14'?'enabled':'disabled'">Vehicles Type</label>
              <input type="radio" id="hauliers-none" name="hauilerType" value="N" formControlName="hauilerType" >
              <label for="hauliers-none" [ngClass]="newQuoteF.openCoverType.value =='13' || newQuoteF.openCoverType.value =='14'?'enabled':'disabled'">None</label>
            </div>
          </div>
          <div class="input-form-error" *ngIf="(newQuoteF.hauilerType.errors && submitted) || (!newQuoteF.hauilerType.valid && newQuoteF.hauilerType.touched)">
            <div *ngIf="newQuoteF.hauilerType.errors?.required" class="error-text">
              This field is required
            </div>
          </div>
        </div>
      </div> -->
      <div class="col-12 col-md-4 col-lg-4">
        <div class="input-control-container">
          <ng-container *ngIf="userDetails?.RegionCode == '100019'">
            <label class="input-form-label">PVT YN<span class="text-required">*</span></label>
          </ng-container>
          <ng-container *ngIf="userDetails?.RegionCode != '100019'">
            <label class="input-form-label">War YN<span class="text-required">*</span></label>
          </ng-container>
          <div class="input-form-radio-box">
            <div class="radio-toolbar">
              <input id="war-yes" type="radio" name="war" value="Y" formControlName="war">
              <label for="war-yes">Yes</label>
              <input type="radio" id="war-no" name="war" value="N" formControlName="war">
              <label for="war-no">No</label>
            </div>
          </div>
          <div class="input-form-error"
            *ngIf="(newQuoteF.war.errors && submitted) || (!newQuoteF.war.valid && newQuoteF.war.touched)">
            <div *ngIf="newQuoteF.war.errors?.required" class="error-text">
              This field is required
            </div>
          </div>
        </div>
      </div>
      <div class="col-12 col-md-4 col-lg-4">
        <div class="input-control-container">
          <label class="input-form-label">Fac YN<span class="text-required">*</span></label>
          <div class="input-form-radio-box">
            <div class="radio-toolbar">
              <input id="fac-yes" type="radio" name="fac" value="Y" formControlName="fac">
              <label for="fac-yes">Yes</label>
              <input type="radio" id="fac-no" name="fac" value="N" formControlName="fac">
              <label for="fac-no">No</label>
            </div>
          </div>
          <div class="input-form-error"
            *ngIf="(newQuoteF.fac.errors && submitted) || (!newQuoteF.fac.valid && newQuoteF.fac.touched)">
            <div *ngIf="newQuoteF.fac.errors?.required" class="error-text">
              This field is required
            </div>
          </div>
        </div>
      </div>
      <!-- <div class="col-12 col-md-4 col-lg-4">
        <div class="input-control-container">
          <label class="input-form-label">Policy Fee<span class="text-required">*</span></label>
          <div class="input-form-box">
            <input type="text" class="input-form-control without-icon" [value]="newQuoteF.policyFee.value | commaseparator" formControlName="policyFee">
          </div>
        </div>
      </div> -->
      <div class="col-12 col-md-4 col-lg-4">
        <div class="input-control-container">
          <label class="input-form-label">Voyage Remarks</label>
          <div class="input-form-box">
            <input type="text" class="input-form-control without-icon" formControlName="voyageRemarks">
          </div>
        </div>
      </div>
      <div class="col-12 col-md-4 col-lg-4">
        <div class="input-control-container">
          <label class="input-form-label">Effective Date</label>
          <div class="input-form-box">

            <input type="text" ngbDatepicker #d2="ngbDatepicker" class="input-form-control without-icon"
              formControlName="effectiveDate" (click)="d2.toggle()" readonly [minDate]="minDate">
          </div>
          <div class="input-form-error"
            *ngIf="(newQuoteF.effectiveDate.errors && submitted) || (!newQuoteF.effectiveDate.valid && newQuoteF.effectiveDate.touched)">
            <div *ngIf="newQuoteF.effectiveDate.errors?.required" class="error-text">
              This field is required
            </div>
          </div>
        </div>
      </div>
      <div class="col-12 col-md-4 col-lg-4">
        <div class="input-control-container">
          <label class="input-form-label">Premium Currency<span class="text-required">*</span></label>
          <ng-select placeholder="Select" class="input-form-select" formControlName="premiumCurrency"
            [items]="dropPremiumCurrencyList" bindValue="Code" bindLabel="CodeDescription"
            (change)="onChangeCurrencyDropdown()">
          </ng-select>

        </div>
      </div>

      <div class="col-12 mt-1" style="text-align:right">
        <button nbButton (click)="onSubmitData()" status="primary" class="mx-2">Next</button>
      </div>
    </div>
  </div>

</form>

<ng-template #myModal2 let-modal>
  <div class="modal-dialog modal-dialog-scrollable modal-content m-0 p-0" role="document">
    <div class="modal-header">
      <h5 class="modal-title" id="exampleModalLabel" *ngIf="!editSection">Select Customer</h5>
      <h5 class="modal-title" id="exampleModalLabel" *ngIf="editSection">Customer Details</h5>
      <button type="button" #myModalClose class="close btn btn-secondary" data-dismiss="modal" aria-label="Close"
        (click)="modal.dismiss('Cross click')"><span aria-hidden="true">&times;</span></button>
    </div>
    <div class="modal-body">
      <ng-container *ngIf="!editSection">
        <div class="d-flex justify-content-end">
          <div><button class="btn btn-primary" (click)="editSection=!editSection"><i class="fa fa-plus"></i>&nbsp;Create
              Customer</button></div>
        </div>
        <div class="row">
          <div class="col-12 col-lg-12 col-md-12 col-xl-12">
            <ng-container *ngIf="tableData.length!=0">
              <app-material-table [cols]="columnHeader" [customerId]="getCustomerId()" [data]="tableData"
                [filterValue]="filterValue" (isActionBtn)="isActionBtn($event)" (onSelectCustomer)="onSelectCustomer($event,modal)">
              </app-material-table>
            </ng-container>
            <ng-container *ngIf="tableData.length==0">
              <div class="text-center">
                No Customer Available
              </div>
            </ng-container>
          </div>
        </div>
      </ng-container>
      <ng-container *ngIf="editSection">
        <div class="row mb-3">
          <div class="col-12 col-md-4 col-lg-4">
            <div class="input-control-container">
              <label class="input-form-label">Cutomer Type<span class="text-required">*</span></label>
              <div class="input-form-radio-box">
                <div class="radio-toolbar">
                  <input id="Individual" type="radio" name="customerType" value="Individual"
                    [(ngModel)]="customerType">
                  <label for="Individual">Individual</label>
                  <input type="radio" id="Corporate" name="customerType" value="Corporate"
                    [(ngModel)]="customerType" >
                  <label for="Corporate">Corporate</label>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-12 col-md-4 col-lg-4">
            <div class="input-control-container">
              <label class="input-form-label">Title<span class="text-required">*</span></label>
              <ng-select placeholder="Select" class="input-form-select" [items]="dropTitleList"
                bindValue="CodeDescription" bindLabel="CodeDescription" [(ngModel)]="title">
              </ng-select>
              <div class="input-form-error" *ngIf="titleError">
                <div class="error-text">
                  This field is required
                </div>
              </div>
            </div>
          </div>
          <div class="col-12 col-md-4 col-lg-4">
            <div class="input-control-container">
              <label *ngIf="customerType!='Corporate'" class="input-form-label">Name<span class="text-required">*</span></label>
                 <label *ngIf="customerType=='Corporate'" class="input-form-label">Company Name<span
              class="text-required">*</span></label>
              <div class="input-form-box">
                <input *ngIf="customerType!='Corporate'" type="text" class="input-form-control2 with-icon" maxlength="100" [(ngModel)]="customerName"
                  placeholder="Enter Customer Name">
                   <input *ngIf="customerType=='Corporate'" type="text"
                class="input-form-control with-icon1" [(ngModel)]="filterValue" placeholder="">
              </div>

              <div class="input-form-error" *ngIf="customerNameError">
                <div class="error-text">
                  This field is required
                </div>
              </div>
            </div>
          </div>
          <div class="col-12 col-md-4 col-lg-4">
            <div class="input-control-container">
              <label class="input-form-label">Core App Code<span class="text-required">*</span></label>
              <div class="input-form-box">
                <input type="text" class="input-form-control2 with-icon" maxlength="100" [(ngModel)]="coreAppcode"
                  placeholder="Enter Core App Code">
              </div>


              <div class="input-form-error" *ngIf="coreAppcodeError">
                <div class="error-text">
                  This field is required
                </div>
              </div>
            </div>
          </div>
          <div class="col-12 col-md-4 col-lg-4">
            <div class="input-control-container">
              <label class="input-form-label">City<span class="text-required">*</span></label>
              <ng-select placeholder="Select" class="input-form-select" [items]="dropCityList" bindValue="Code"
                bindLabel="CodeDescription" [(ngModel)]="cityValue">
              </ng-select>
              <div class="input-form-error" *ngIf="cityNameError">
                <div class="error-text">
                  This field is required
                </div>
              </div>
            </div>
          </div>
          <div class="col-12 col-md-4 col-lg-4">
            <div class="input-control-container">
              <label class="input-form-label">P.O Box<span class="text-required">*</span></label>
              <div class="input-form-box">
                <input type="text" class="input-form-control2 without-icon" maxlength="6" [(ngModel)]="poBox"
                  placeholder="Enter Post Box Number">
              </div>
              <div class="input-form-error" *ngIf="poBoxError">
                <div class="error-text">
                  This field is required
                </div>
              </div>
            </div>
          </div>
          <div class="col-12 col-md-4 col-lg-4">
            <div class="input-control-container">
              <label class="input-form-label">Mobile Number<span class="text-required">*</span></label>
              <div class="input-form-box">
                <input type="text" class="input-form-control2 without-icon" maxlength="10" [(ngModel)]="mobileNo"
                  placeholder="Enter Mobile Number">
              </div>
              <div class="input-form-error" *ngIf="mobileNoError">
                <div class="error-text">
                  This field is required
                </div>
              </div>
            </div>
          </div>
          <div class="col-12 col-md-4 col-lg-4">
            <div class="input-control-container">
              <label class="input-form-label">Email Id<span class="text-required">*</span></label>
              <div class="input-form-box">
                <input type="text" class="input-form-control2 without-icon" maxlength="50" [(ngModel)]="emailId"
                  placeholder="Enter Email ID">
              </div>
              <div class="input-form-error" *ngIf="emailIdError">
                <div class="error-text">
                  This field is required
                </div>
              </div>
            </div>
          </div>
          <div class="col-12 col-md-4 col-lg-4">
            <div class="input-control-container">
              <label class="input-form-label">Customer VAT <i>(Registration No)</i> </label>
              <div class="input-form-box">
                <input type="text" class="input-form-control2 without-icon" [(ngModel)]="customerVat"
                  placeholder="Enter Customer VAt Number">
              </div>
            </div>
          </div>
          <div class="col-12 col-md-4 col-lg-4">
            <div class="input-control-container">
              <label class="input-form-label">Address 1</label>
              <div class="input-form-box">
                <textarea type="text" class="input-form-control2 without-icon" [(ngModel)]="Address1"></textarea>
              </div>
            </div>
          </div>
          <div class="col-12 col-md-4 col-lg-4">
            <div class="input-control-container">
              <label class="input-form-label">Address 2</label>
              <div class="input-form-box">
                <textarea type="text" class="input-form-control2 without-icon" [(ngModel)]="Address2"></textarea>
              </div>
            </div>
          </div>
        </div>
      </ng-container>

    </div>
    <div class="modal-footer">

      <button type="button" class="btn btn-secondary" data-dismiss="modal"
        (click)="modal.dismiss('Cross click')">Close</button>
      <button type="button" class="btn btn-primary" *ngIf="editSection" (click)="onsubmit()">Submit</button>
    </div>
  </div>
</ng-template>